# Created by: Gustau Perez <gustau.perez@gmail.com>
# $FreeBSD$

PORTNAME=	polari
PORTVERSION=	3.36.2
CATEGORIES=	irc gnome
MASTER_SITES=	GNOME
DIST_SUBDIR=	gnome

MAINTAINER=	gnome@FreeBSD.org
COMMENT=	Internet Relay Chat (IRC) client designed for GNOME

LICENSE=	GPLv2
LICENSE_FILE=	${WRKSRC}/COPYING

BUILD_DEPENDS=	appstream-util:devel/appstream-glib \
		itstool:textproc/itstool
LIB_DEPENDS=	libtelepathy-glib.so:net-im/telepathy-glib \
		libsecret-1.so:security/libsecret \
		libtelepathy-logger.so:net-im/telepathy-logger \
		libgjs.so:lang/gjs
RUN_DEPENDS=	telepathy-mission-control>0:net-im/telepathy-mission-control \
		telepathy-idle>0:net-im/telepathy-idle

USES=		desktop-file-utils gettext gnome localbase \
		meson pkgconfig tar:xz
USE_GNOME=	cairo gtk30 introspection

USE_LDCONFIG=	yes
INSTALLS_ICONS=	yes
PORTSCOUT=	limitw:1,even

GLIB_SCHEMAS=	org.gnome.Polari.gschema.xml

.include <bsd.port.mk>
